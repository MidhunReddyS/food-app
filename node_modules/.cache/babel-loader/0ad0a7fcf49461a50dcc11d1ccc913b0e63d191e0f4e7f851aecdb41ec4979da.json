{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sanna/Desktop/React-Files/FoodOrderingApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/Sanna/Desktop/React-Files/FoodOrderingApp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import CartContext from\"./CartContext\";import{useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var initial={items:[],amount:0};function cartManager(state,action){if(action.id===\"add\"){if(state.items.findIndex(function(item){return item.name===action.value.name;})>-1){var updatedItem=_toConsumableArray(state.items);updatedItem[state.items.findIndex(function(item){return item.name===action.value.name;})].amount+=1;var updatedTotal=state.amount+action.value.price;return{items:updatedItem,amount:updatedTotal};}else{var _updatedItem=[].concat(_toConsumableArray(state.items),[action.value]);var _updatedTotal=state.amount+action.value.price;return{items:_updatedItem,amount:_updatedTotal};}}else if(action.id===\"remove\"){if(action.value.amount===1){var _updatedItem2=state.items.filter(function(item){return item.name!==action.value.name;});var _updatedTotal2=state.amount-action.value.price;return{items:_updatedItem2,amount:_updatedTotal2};}else{var _updatedItem3=_toConsumableArray(state.items);_updatedItem3[state.items.findIndex(function(item){return item.name===action.value.name;})].amount-=1;var _updatedTotal3=state.amount-action.value.price;return{items:_updatedItem3,amount:_updatedTotal3};}}else if(action.id===\"clear\"){return initial;}return initial;}export default function CartContextProvider(props){var _useReducer=useReducer(cartManager,initial),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],cartDispacher=_useReducer2[1];function addItemHandler(event){cartDispacher({value:event,id:\"add\"});}function removeItemHandler(event){cartDispacher({value:event,id:\"remove\"});}function clearCartHandler(){cartDispacher({id:\"clear\"});}return/*#__PURE__*/_jsx(CartContext.Provider,{value:{items:cartState.items,amount:cartState.amount,addItem:addItemHandler,removeItem:removeItemHandler,clearCart:clearCartHandler},children:props.children});}","map":{"version":3,"names":["CartContext","useReducer","jsx","_jsx","initial","items","amount","cartManager","state","action","id","findIndex","item","name","value","updatedItem","_toConsumableArray","updatedTotal","price","concat","filter","CartContextProvider","props","_useReducer","_useReducer2","_slicedToArray","cartState","cartDispacher","addItemHandler","event","removeItemHandler","clearCartHandler","Provider","addItem","removeItem","clearCart","children"],"sources":["C:/Users/Sanna/Desktop/React-Files/FoodOrderingApp/src/Components/Storage/CartContextprovider.js"],"sourcesContent":["import CartContext from \"./CartContext\";\r\nimport { useReducer } from \"react\";\r\n\r\nconst initial = {\r\n    items :[],\r\n    amount : 0,\r\n}\r\nfunction cartManager (state, action){\r\n    if(action.id === \"add\"){\r\n        \r\n        if(state.items.findIndex((item) => {return (item.name === action.value.name)}) > -1){\r\n            const updatedItem = [...state.items]\r\n            updatedItem[state.items.findIndex((item) => {return (item.name === action.value.name)})].amount += 1;\r\n            const updatedTotal = state.amount + action.value.price;\r\n            return {\r\n                items : updatedItem,\r\n                amount : updatedTotal\r\n            };\r\n        }\r\n        else{\r\n            const updatedItem = [...state.items, action.value];\r\n            const updatedTotal = state.amount + action.value.price;\r\n            return {\r\n                items : updatedItem,\r\n                amount : updatedTotal\r\n            };\r\n        }\r\n    }\r\n    else if(action.id === \"remove\"){\r\n        if(action.value.amount === 1){\r\n            const updatedItem = state.items.filter((item) => {return (item.name !== action.value.name)});\r\n        const updatedTotal = state.amount - action.value.price;\r\n        return {\r\n            items : updatedItem,\r\n            amount : updatedTotal\r\n        }\r\n        }\r\n        else{\r\n            const updatedItem = [...state.items]\r\n            updatedItem[state.items.findIndex((item) => {return (item.name === action.value.name)})].amount -=1;\r\n            const updatedTotal = state.amount - action.value.price;\r\n            return {\r\n                items : updatedItem,\r\n                amount : updatedTotal\r\n            };\r\n        } \r\n    }\r\n    else if(action.id === \"clear\"){\r\n        return initial;\r\n    }\r\n\r\n    \r\n        return initial;\r\n    \r\n}\r\n\r\nexport default function CartContextProvider(props){\r\n\r\n    const [cartState, cartDispacher] = useReducer(cartManager,initial)\r\n\r\n    function addItemHandler(event){\r\n        cartDispacher({value:event, id:\"add\"})\r\n\r\n    }\r\n    function removeItemHandler(event){ \r\n        cartDispacher({value:event, id:\"remove\"})\r\n\r\n     }\r\n     function clearCartHandler() { \r\n        cartDispacher({id:\"clear\"})\r\n      }\r\n     \r\n    return(\r\n        <CartContext.Provider value={\r\n            { items : cartState.items,\r\n                amount : cartState.amount,\r\n                addItem: addItemHandler,\r\n                removeItem: removeItemHandler,\r\n                clearCart:clearCartHandler\r\n            }\r\n        }>{props.children}\r\n\r\n        </CartContext.Provider>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}